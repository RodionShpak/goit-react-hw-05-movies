"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[786],{786:function(t,n,e){e.r(n),e.d(n,{default:function(){return f}});var c=e(885),r=e(791),a=e(731),o=e(636),u=e(184),i=(0,r.lazy)((function(){return e.e(280).then(e.bind(e,280))})),s=(0,r.lazy)((function(){return e.e(146).then(e.bind(e,146))})),f=function(){var t,n=(0,a.lr)(),e=(0,c.Z)(n,2),f=e[0],l=e[1],d=(0,r.useState)(""),p=(0,c.Z)(d,2),h=p[0],v=p[1],g=(0,r.useState)(1),_=(0,c.Z)(g,2),y=_[0],m=_[1],k=(0,r.useState)([]),b=(0,c.Z)(k,2),S=b[0],j=b[1],q=f.get("query")||"",w=parseInt((t=f.get("page"),(!isNaN(parseInt(t))||t>0)&&t||1));q!==h&&v(q),w!==y&&m(w),(0,r.useEffect)((function(){""===h?j({}):(0,o.wn)({query:h,page:y}).then(j)}),[h,y]);return S.total_results?(document.title="React HW05 - Movie search - ".concat(h),(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)("p",{children:"Loading..."}),children:(0,u.jsx)(s,{filmList:S,state:{from:"/movies?query=".concat(h),addPath:""}})})):(document.title="React HW05 - Movie search",(0,u.jsxs)(r.Suspense,{fallback:(0,u.jsx)("p",{children:"Loading..."}),children:[(0,u.jsx)(i,{onSubmitHandler:function(t){null===t||void 0===t||t.preventDefault();var n=String(t.currentTarget.query.value).trim();""!==n&&l({query:n,page:1})}}),0===(null===S||void 0===S?void 0:S.total_results)&&(0,u.jsx)("p",{children:"Nothing found"})]}))}},636:function(t,n,e){e.d(n,{DF:function(){return d},J0:function(){return l},KS:function(){return i},RV:function(){return f},wn:function(){return s}});var c=e(44),r="ad24807293275bef83ede161311e71e0",a="https://api.themoviedb.org/3/",o="movie",u=function(t){return c.ZP.get(t).then((function(t){return t.data}))},i=function(){return u("".concat(a).concat("movie/popular","?api_key=").concat(r))},s=function(t){var n=t.query,e=void 0===n?"trending":n,c=t.page,o=void 0===c?1:c;return u("".concat(a).concat("search/movie","?api_key=").concat(r,"&query=").concat(e,"&page=").concat(o))},f=function(t){return u("".concat(a).concat(o,"/").concat(t,"?api_key=").concat(r))},l=function(t){return u("".concat(a).concat(o,"/").concat(t,"/").concat("credits","?api_key=").concat(r)).then((function(t){return t.cast.slice(0,10)}))},d=function(t){return u("".concat(a).concat(o,"/").concat(t,"/").concat("reviews","?api_key=").concat(r)).then((function(t){return t.results.slice(0,10)}))}}}]);
//# sourceMappingURL=786.020412d3.chunk.js.map